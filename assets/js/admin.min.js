jQuery(document).ready(function(){var s=(s=jQuery('input[name="_wp_http_referer"]').val()).replace(/#.*$/,""),t=(jQuery("#solr-tabs").find("a").click(function(){jQuery("#solr-tabs").find("a").removeClass("nav-tab-active"),jQuery(".solrtab").removeClass("active");var t=jQuery(this).attr("id").replace("-tab","");jQuery("#"+t).addClass("active"),jQuery(this).addClass("nav-tab-active"),jQuery('input[name="_wp_http_referer"]').val(s+"#top#"+t)}),window.location.hash.replace("#top#",""));""!==t&&"#_=_"!==t||(t=jQuery(".solrtab").first().attr("id")),jQuery("#"+t).addClass("active"),jQuery("#"+t+"-tab").addClass("nav-tab-active").click()});var $j=jQuery.noConflict();function switch1(){$j("#solrconnect_single").is(":checked")&&($j("#solr_admin_tab2").css("display","block"),$j("#solr_admin_tab2_btn").addClass("solr_admin_on"),$j("#solr_admin_tab3").css("display","none"),$j("#solr_admin_tab3_btn").removeClass("solr_admin_on")),$j("#solrconnect_separated").is(":checked")&&($j("#solr_admin_tab2").css("display","none"),$j("#solr_admin_tab2_btn").removeClass("solr_admin_on"),$j("#solr_admin_tab3").css("display","block"),$j("#solr_admin_tab3_btn").addClass("solr_admin_on"))}$j(document).ready(function(){switch1()}),function(i){var t={batchIndexTemplate:!1,currentBatch:0,totalBatches:0,successPosts:0,failedPosts:0,remainingPosts:0,startTime:!1,init:function(){i("#solr-batch-index").length&&(this.bindEvents(),this.setupInitialState(),this.renderIndexUI())},bindEvents:function(){i("#solr-batch-index").on("click","input",i.proxy(this.handleClickIndexPosts,this))},setupInitialState:function(){this.batchIndexTemplate=wp.template("solr-batch-index");var t=i("#tmpl-solr-batch-index");this.currentBatch=t.data("current-batch"),this.totalBatches=t.data("total-batches"),this.remainingPosts=t.data("remaining-posts"),this.totalPosts=t.data("total-posts")},disableAll:function(){i(".solr-admin-action").attr("disabled","disabled")},enableAll:function(){i(".solr-admin-action").removeAttr("disabled")},handleClickIndexPosts:function(t){this.disableAll(),t.preventDefault();t="s4wp_start_index"===i(t.currentTarget).attr("name")?"start":"resume";"start"==t&&(this.currentBatch=1,this.remainingPosts=this.totalPosts),this.startTime=new Date,this.elapsedTime="00:00:00",this.renderIndexUI(),this.indexPosts(t)},indexPosts:function(t){void 0===t&&(t="resume"),i.post(solr.ajax_url,{action:"solr_options",security:solr.security,method:t+"-index"},i.proxy(function(t){this.currentBatch=t.currentBatch,this.successPosts+=t.successPosts,this.failedPosts+=t.failedPosts,this.remainingPosts=t.remainingPosts,this.renderIndexUI(),0<this.remainingPosts?this.indexPosts():this.startTime=!1},this))},renderIndexUI:function(){var t,s,a,e=!1;this.startTime&&(paddingLeft=function(t,s){return String(s+t).slice(-s.length)},s=new Date-this.startTime,s/=1e3,t=paddingLeft(Math.round(s%60),"00"),s=Math.floor(s/60),a=paddingLeft(Math.round(s%60),"00"),s=Math.floor(s/60),e=paddingLeft(Math.round(s%24),"00")+":"+a+":"+t),i("#solr-batch-index").html(this.batchIndexTemplate({currentBatch:this.currentBatch,totalBatches:this.totalBatches,elapsedTime:e,successPosts:this.successPosts,failedPosts:this.failedPosts,remainingPosts:this.remainingPosts}))}};i(document).ready(i.proxy(t.init,t))}(jQuery);